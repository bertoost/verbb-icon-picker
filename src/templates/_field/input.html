{% import '_includes/forms' as forms %}

<div class="icon-picker {{ showLabels ? 'show-labels' }}">
    <select class="icon-picker-select" name="{{ name ~ '[icon]' }}" data-placeholder="{{ (iconSets | length) ? 'Select Icon...' | t('icon-picker') : 'No icons available' | t('icon-picker') }}">
        <option value="">None</option>

        {% for optgroup, icons in iconSets %}
            <optgroup label="{{ optgroup == 'root' ? '' : optgroup }}">
                {% for icon in icons %}
                    <option data-data="{{ icon | json_encode }}" value="{{ icon.value }}"{% if icon.value == value.getSerializedValue() %} selected{% endif %}>{{ icon.label }}</option>
                {% endfor %}
            </optgroup>
        {% endfor %}
    </select>
</div>